<!DOCTYPE html>
<html class="configurable-background" lang="en">

<head>
    <!-- Basic Page Needs
  ================================================== -->
    <meta charset="utf-8">
    <meta name="author" content="damola">
    <title>GnuPG (gpg) Encryption Using JSON Profiles | Projects | Software Development Life</title>
    <meta name="description" content="Software Development Projects">

    <!-- Mobile Specific Metas
  ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
  ================================================== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles-desktop-full.css" media="screen">
    <link rel="stylesheet" href="../css/styles-desktop-minimised.css" media="screen and (max-width: 800px)">
    <link rel="stylesheet" href="../css/styles-mobile.css" media="screen and (max-width: 400px)">

    <!-- Favicons
	================================================= -->
    <link rel="icon" href="../media/images/favicon1.ico" type="image/x-icon">

    <!-- Scripts
	================================================= -->
    <script src="../scripts/generic-functions.js" defer></script>
    <script src="../scripts/page-specific/projects-loader.js" defer></script>
    <script src="../scripts/dialogs.js" defer></script>

</head>

<body>

    <!-- Primary Page Layout
  ================================================== -->

    <noscript>
        <h4>JavaScript is off. Please enable to view full site.</h4>
    </noscript>
    <div id="freezeLayer" class="freeze-layer" style="display: none;"></div>

    <header class="page-head">
        <h1 class="toggled-heading" id="siteLogo">
            <a href="index.html" title="Site Homepage (Projects)" target="_self">AlgoDiscoDev Software Development</a>
        </h1>
        <h2 class="toggled-heading" id="pageLogo">Projects</h2>

        <nav class="header-nav" id="headerNav">
            <div class="nav-icon-container" title="Show|Hide navigation menu">
                <div id="nav-icon-hitzone"><i class="fa fa-bars fa-lg" id="burger" aria-hidden="true"></i></div>
            </div>
            <!-- REMEMBER: This page is actually being built by Javascript -->
            <ul class="nav-grid open-grid" id="nav-links">
                <li>
                    <a href="../index.html" title="projects page">Projects</a>
                </li>
                <li>
                    <a href="../skills.html" title="skills page">Skills</a>
                </li>
                <li>
                    <a href="../cloud.html" title="cloud research">Cloud</a>
                </li>
                <li>
                    <a href="../multimedia.html" title="multimedia page">Multimedia</a>
                </li>
                <li>
                    <a href="../yoruba-web.html" title="yoruba language on the web">Yorùbá Web</a>
                </li>
                <li>
                    <a href="../research.html" title="research">Research</a>
                </li>
            </ul>
        </nav>
    </header>

    <main>

        <div class="page-content">

            <section class="page-intro-para">
                <header>
                    <!--This header text must match EXACTLY with a title in projects.json -->
                    <!--Changes must be mutually inclusive -->
                    <!--These project pages are being created manually for now-->
                    <h1>GnuPG (gpg) Encryption Using JSON Profiles</h1>
                </header>


                <blockquote>Information Privacy and Security == Freedom of Expression, Freedom of Communication and
                    ultimately, Freedom of Thought. </blockquote>

                <p>A bit philosophical, but it's assumed that you're sort of in agreement, otherwise you might be
                    wondering, what is the point of this project.</p>







                <a href="../index.html" title="Return to the Projects page">
                    <span class="hugeFont firaSansMedFont">&lt; pada</span>
                </a>

            </section>
            <!--end  page-intro-para-->


            <div class="hero-article-container">
                <article class="hero-article" id="hero-background-cube-01">
                    <div class="hero-message message-right firaSansRegFont">
                        <h2>"Cloud, Cloud, Cloud."</h2>
                    </div>
                </article>
            </div>



            <section class="project-summary">
                <header>
                    <h2>Project Summary</h2>
                </header>
                <p>I wrote a GnuPG encryption command generator. Is that good?</p>
                <p>This program is effectively a <em>source code generator</em>. It uses a template, along with user
                    provided
                    parameters, to generate what in this
                    instance, is the code to be issued as a <code>gpg</code> command.</p>
                <p>The funny thing is, until I had to start writing this report to try to describe what I'd done, I had
                    no clue that I'd written was what could be called a <em>source code generator</em>. All I knew was
                    that it solved
                    my problem. My knowledge
                    of source code generators was almost zero.</p>
                <p>Actually, when I realised that <em>that's</em> what I'd done, I initially felt a bit disgusted.</p>
                <p>I mean I could already see sceptical eyes rolling as they read a report that seemed to be proposing a
                    one-click-cure-all. They'd be wondering, "What's the catch?"</p>

                <h3>A bit of Research to Classify this Project</h3>

                <p>My only understanding of source code generation was of no-code, low-code,
                    no-idea-how-this-code-works-but-don't-worry-about-it
                    code, typical of the most instant-results-offering website builders. I'd heared that they could be
                    built
                    easily and quickly, but attempts to migrate or make changes by hand usually broke them.</p>

                <p>Then I was reminded that web application frameworks like Laravel, Ruby on Rails and CodeIgniter are
                    all template-based, to speed up application development. Even my favouite source code editor makes
                    development easier and quicker by offering me boilerplate template code structures. A bit more
                    research revealed that
                    there was once even a project, called [# <a href="https://argbash.io/"
                        title="links to the argbash project webpage" target="_blank">argbash</a> #] - a command-line
                    argument parser for shell scripts.
                </p>

                <p>Rule of thumb: The less opinionated the code generator, the more bloated it has to be. Every possible
                    intended meaning of
                    that <em>'single click'</em> has to be branched out in advance.</p>

                <p>Ok then, if the product of this project <em>is</em> a source code generator, at least its' scope is
                    <em>highly specific</em>.
                </p>

                <ul>
                    <li>
                        It only generates a <em>single line</em> of code - a <code>gpg</code> command.
                    </li>
                    <li>
                        It is (so far) <em>highly opinionated</em>, for example, insisting on the best-practice,
                        obligatory addition of either .gpg or .asc extensions to the filenames of encrypted messages.
                    </li>
                </ul>

                <p>Anyway, on to the actual problem I wanted to solve...</p>


            </section>
            <!--end  project-summary-->

            <div class="project-report">

                <section>
                    <header>
                        <h2>Background</h2>
                    </header>
                    <p>This report <em>does not</em> describe a solution looking for a problem.</p>

                    <p>Being able to control our information and the information with which we're entrusted is no longer
                        just a nice-to-have for professionals in all fields who need to remain trusted as reasonably
                        competent.</p>

                    <p>GnuPG is a tool for encrypting stuff. Usually documents and images that we need to communicate
                        over
                        any channel, but particularly email. It has
                        many capabilties that implement security concepts and best practices.</p>

                    <p>Email communication is still analogous to sending a postcard.</p>

                    <p>The internet is not a trusted network.</p>

                </section>

                <section>
                    <header>
                        <h2>The Problem</h2>
                    </header>
                    <p>I once heared it said that if you're not managing the encryption keys for your data, it's not
                        <em>your</em>
                        data.
                    </p>
                    <p>But organising, managing and using encryption keys properly can get complicated. </p>

                    <h3>Use Case</h3>
                    <ol>
                        <li>You use the Linux command line.</li>
                        <li>You're aware that although encrypted using TLS between you and your email provider, while
                            your
                            email content and attachments are stored for some time (or perhaps indefinitely) on each of
                            the mail servers on their subsequent journey across the world, ...</li>
                        <li>You sometimes use the GnuPG (gpg) utility to public key encrypt sensitive stuff like
                            passwords,
                            keys, PII (Personally Identifiable Information) and images before emailing to known
                            people/groups.
                        </li>
                        <li>You do that sort of thing with many different people/groups.</li>
                        <li>You use a different keypair for each person/group.</li>
                        <li>You're able to organise email address and agreed encryption formats for those recipients
                            into a
                            JSON formatted reference document.</li>
                        <li>You need a tool that will create encryption commands for you, based on that structured JSON
                            data.</li>
                        <li>You're basically <em>me</em>.</li>
                    </ol>

                    <p>Anyway, moving on...</p>
                </section>


                <section>
                    <header>
                        <h2>The Challenge</h2>
                    </header>

                    <p>I wanted to write a tool that abstacted away some of the predictable details when I issued a gpg
                        command to encypt.</p>
                    <p>I wanted the challenge of writing a basic tool that could configure and execute a bespoke
                        command, based on these parameters:</p>
                    <ol>
                        <li>Public or Symmetric key encryption.</li>
                        <li>The defined list of recipients.</li>
                        <li>The sender identity I was adopting for that communication.</li>
                    </ol>

                    <p>This project was really a solution to my own encryption circumstances.</p>
                    <p>Clearly, I also wanted a motive to improve my understanding of encryption, the GnuPG (gpg)
                        utility, shell scripting, Git and Github, all on which my <em>sofware tech enthusiast hobby</em>
                        usually depend.</p>
                </section>

                <section>
                    <header>
                        <h2>The Solution</h2>
                    </header>

                    <section>
                        <h3>Technical and User Documentation</h3>
                        <p>The <a href="https://github.com/adebayo10k/gpg-encryption-using-json-profiles"
                                title="link to GitHub gpg-encryption-using-json-profiles project repo"
                                target="_blank">README document</a> over on Github
                            serves as both technical and user documentation for this
                            project.</p>
                    </section>

                    <section>
                        <header>
                            <h3>Encryption Profiles</h3>
                        </header>

                        <code class="block-displayed-prewrap">
    {
        "profileID": "1",
        "profileName": "local message encryption",
        "profileDescription": "profile to public key encrypt local files",
        "encryptionSystem": "public_key",
        "outputFileFormat": "ascii",
        "senderUID": "damola@host0.org",
        "recipientUIDList": [
            "'damola@host0.org'",
            "'damola@host1.org'"
        ]
    },
    ...
                    </code>

                        <h3>Why JSON?</h3>
                        <p>Why not YAML or even XML? All are standardised ways to define configuration files.
                            JSON sits between the others for strictness, speed of parsing and ease of use.
                        </p>

                        <p>The security nature of the project seemed to demand minimal scope for introduction of human
                            error when defining the program's runtime configuration. A validated XML document might
                            therefore have been maximal for that requirement. Only thing was, I'd forgotten how to
                            implement
                            XML, so decided JSON would also be good.</p>
                    </section>

                    <section>
                        <header>
                            <h3>Running the Program</h3>
                        </header>

                        <code class="block-displayed"><span class="prompt">damola@host0:~$</span> ls | grep astral
                        astral0
                        astral1
                        astral2                    
                    </code>

                        <code
                            class="block-displayed"><span class="prompt">damola@host0:~$</span> gpg-file-encrypt.sh astral0 astral1</code>


                        <code class="block-displayed-prewrap">
Which JSON Profile to use for the encryption? Choose an option :

1) local message encryption	 3) work team roles
2) project keyfiles dev	 4) project UML diagram images
> 1

You Selected : local message encryption

Keypair identified for sender damola@host0.org OK
Keypair identified for recipient damola@host0.org OK
Keypair identified for recipient damola@host1.org OK

File to encrypt : ./astral0

===specific encryption command string===

gpg --armor --output ./astral0.ENCRYPTED.asc --local-user damola@host0.org --recipient damola@host0.org --recipient damola@host1.org --encrypt ./astral0

Does that command look good? Encrypt the file? Choose an option :

1) Yes, looks good. Encrypt it.
2) No, Quit the Program
> 1

You Selected : Yes, looks good. Encrypt it.

Encrypting file...

ENCRYPTION SUCCESSFUL.

File to encrypt : ./astral1

===specific encryption command string===

gpg --armor --output ./astral1.ENCRYPTED.asc --local-user damola@host0.org --recipient damola@host0.org --recipient damola@host1.org --encrypt ./astral1

Does that command look good? Encrypt the file? Choose an option :

1) Yes, looks good. Encrypt it.
2) No, Quit the Program
> 1

You Selected : Yes, looks good. Encrypt it.

Encrypting file...

ENCRYPTION SUCCESSFUL.

Original plaintext files:

./astral0
./astral1

Shred the plaintext files? (Best practice). Choose an option :

1) Yes, shred them all.
2) No, Keep them and Quit the Program
> 1

You Selected : Yes, shred them all.

Attempting Shred...

shred: ./astral0: pass 1/1 (random)...
shred: ./astral0: removing
shred: ./astral0: renamed to ./0000000
shred: ./0000000: renamed to ./000000
shred: ./000000: renamed to ./00000
shred: ./00000: renamed to ./0000
shred: ./0000: renamed to ./000
shred: ./000: renamed to ./00
shred: ./00: renamed to ./0
shred: ./astral0: removed
shred: ./astral1: pass 1/1 (random)...
shred: ./astral1: removing
shred: ./astral1: renamed to ./0000000
shred: ./0000000: renamed to ./000000
shred: ./000000: renamed to ./00000
shred: ./00000: renamed to ./0000
shred: ./0000: renamed to ./000
shred: ./000: renamed to ./00
shred: ./00: renamed to ./0
shred: ./astral1: removed

SUCCESSFUL SHRED REMOVAL OF FILE:
./astral0

SUCCESSFUL SHRED REMOVAL OF FILE:
./astral1

The End.
</code>


                        <code class="block-displayed"><span class="prompt">damola@host0:~$</span> ls | grep astral
                        astral0.ENCRYPTED.asc
                        astral1.ENCRYPTED.asc
                        astral2                    
                    </code>


                        <code class="block-displayed"><span class="prompt">damola@host0:~$</span> file astral*
                        astral0.ENCRYPTED.asc: PGP message Public-Key Encrypted Session Key (old)
                        astral1.ENCRYPTED.asc: PGP message Public-Key Encrypted Session Key (old)
                        astral2:               ReStructuredText file, ASCII text, with very long lines
                    </code>

                    </section>

                </section>

            </div>
            <!--end  project-report-->






            <div class="hero-article-container">
                <article class="hero-article" id="hero-background-cube-02">
                    <div class="hero-message message-left firaSansBoldFont">
                        <h2>Google Cloud</h2>
                        <h2>"Software Development is very nice indeed"</h2>
                    </div>
                </article>
            </div>

        </div>
        <!--end  page-content-->

        <!-- Right Sidebar
================================================== -->
        <aside class="sidebar">
            <p>Platforms</p>
            <p>Topics</p>
            <p>Use Our Code</p>
            <p>Contact Us</p>
        </aside>

    </main>

    <div id="confirmDialogCont" class="dlg-container">
        <div class="dlg-header">Let's discuss this...</div>
        <div id="confirmDialogBody" class="dlg-body"></div>
        <div class="dlg-footer">
            <a id="confirmDlgCancelBtn">Cancel</a>
            <a id="confirmDlgOkBtn">OK</a>
        </div>
    </div>


    <!-- Footer
================================================= -->
    <footer></footer>

</body>

</html>